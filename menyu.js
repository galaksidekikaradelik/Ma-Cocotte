// Tərcümələr obyekti
const translations = {
    az: {
        title: "Ma Cocotte | Menyu",
        home: "Əsas səhifə",
        branches: "Filiallarımız",
        azadliq: "Azadlıq filialı",
        elmler: "Elmlər filialı",
        nerimanov: "Nərimanov filialı",
        nizami: "Nizami filialı",
        xetai: "Xətai filialı",
        menu: "Menyu",
        about: "Haqqımızda",
        contact: "Əlaqə",
        soup: "Şorba",
        main: "Əsas yemək",
        drinks: "İçki",
        dessert: "Desert",
        soups: "Şorbalar",
        mainDishes: "Əsas yeməklər",
        beverages: "İçkilər",
        coldDrinks: "Soyuq içkilər",
        hotDrinks: "İsti içkilər",
        wines: "Şərablar",
        cocktails: "Kokteyllər",
        desserts: "Desert",
        price: "Qiymət",
        addToCart: "Səbətə əlavə et",
        added: "✓ Əlavə edildi",
        cart: "Səbət",
        cartEmpty: "Səbət boşdur",
        total: "Ümumi:",
        delivery: "Çatdırılma",
        addressPlaceholder: "Ünvanınızı daxil edin",
        confirmOrder: "Sifarişi təsdiqlə",
        copyright: "© 2025 Ma Cocotte",
        
        // Yemək təsvirləri
        dishes: {
            "Soupe à l'oignon": "Karamelləşdirilmiş soğan, mal bulyonu, qızardılmış çörək və pendir ilə",
            "Soupe de tomato": "Təzə pomidorlardan hazırlanmış klassik fransız pomidor şorbası",
            "Soupe de champignons": "Təzə göbələklərdən hazırlanmış kremli və aromatik şorba.",
            "Velouté de pommes de terre": "Kremli göbələk şorbası, yumşaq dad və ətirli ədviyyatlar ilə",
            "Bouillabaisse": "Dəniz məhsulları ilə zəngin Marsel üslublu balıq şorbası",
            "Soupe de légumes": "Mövsümi tərəvəzlərdən hazırlanmış yüngül və sağlam şorba",
            "Coq au Vin": "Qırmızı şərabda bişirilmiş toyuq əti, göbələk və tərəvəzlərlə",
            "Boeuf Bourguignon": "Bordo üslubunda qırmızı şərabda bişmiş mal əti, kök və soğan ilə",
            "Ratatouille": "Badımcan, kabak, bibər və pomidordan hazırlanmış klassik tərəvəz yeməyi",
            "Canard rôti": "Sobada qızardılmış ördək filesi, xüsusi sous ilə",
            "Filet de saumon": "Qril edilmiş qızılbalıq filesi, limonlu sous ilə",
            "Poulet à la crème": "Kremli sousda bişirilmiş toyuq filesi, fransız üslubunda",
            "Mousse au chocolat": "Yüngül və kremli şokolad musu",
            "Crème Brûlée": "Vanilli krem deserti",
            "Crêpes Suzette": "Portağal sousu və karamelli krep deserti",
            "Tarte aux fruits": "Mövsüm meyvəli piroq",
            "Fondant au chocolat": "İçi axan şokoladlı lava tortu"
        }
    },
    en: {
        title: "Ma Cocotte | Menu",
        home: "Home",
        branches: "Our Branches",
        azadliq: "Azadliq Branch",
        elmler: "Elmler Branch",
        nerimanov: "Nerimanov Branch",
        nizami: "Nizami Branch",
        xetai: "Xetai Branch",
        menu: "Menu",
        about: "About Us",
        contact: "Contact",
        soup: "Soup",
        main: "Main Course",
        drinks: "Drinks",
        dessert: "Dessert",
        soups: "Soups",
        mainDishes: "Main Courses",
        beverages: "Beverages",
        coldDrinks: "Cold Drinks",
        hotDrinks: "Hot Drinks",
        wines: "Wines",
        cocktails: "Cocktails",
        desserts: "Dessert",
        price: "Price",
        addToCart: "Add to Cart",
        added: "✓ Added",
        cart: "Cart",
        cartEmpty: "Cart is empty",
        total: "Total:",
        delivery: "Delivery",
        addressPlaceholder: "Enter your address",
        confirmOrder: "Confirm Order",
        copyright: "© 2025 Ma Cocotte",
        
        // Dish descriptions
        dishes: {
            "Soupe à l'oignon": "Caramelized onion, beef broth, toasted bread and cheese",
            "Soupe de tomato": "Classic French tomato soup made from fresh tomatoes",
            "Soupe de champignons": "Creamy and aromatic soup made from fresh mushrooms",
            "Velouté de pommes de terre": "Creamy mushroom soup with soft flavor and fragrant spices",
            "Bouillabaisse": "Marseille-style fish soup rich with seafood",
            "Soupe de légumes": "Light and healthy soup made from seasonal vegetables",
            "Coq au Vin": "Chicken cooked in red wine with mushrooms and vegetables",
            "Boeuf Bourguignon": "Burgundy-style beef braised in red wine with carrots and onions",
            "Ratatouille": "Classic vegetable dish made from eggplant, zucchini, peppers and tomatoes",
            "Canard rôti": "Oven-roasted duck fillet with special sauce",
            "Filet de saumon": "Grilled salmon fillet with lemon sauce",
            "Poulet à la crème": "Chicken fillet cooked in cream sauce, French style",
            "Mousse au chocolat": "Light and creamy chocolate mousse",
            "Crème Brûlée": "Vanilla cream dessert",
            "Crêpes Suzette": "Crepe dessert with orange sauce and caramel",
            "Tarte aux fruits": "Seasonal fruit pie",
            "Fondant au chocolat": "Lava cake with flowing chocolate center"
        }
    },
    fr: {
        title: "Ma Cocotte | Menu",
        home: "Accueil",
        branches: "Nos Succursales",
        azadliq: "Succursale Azadliq",
        elmler: "Succursale Elmler",
        nerimanov: "Succursale Nerimanov",
        nizami: "Succursale Nizami",
        xetai: "Succursale Xetai",
        menu: "Menu",
        about: "À Propos",
        contact: "Contact",
        soup: "Soupe",
        main: "Plat Principal",
        drinks: "Boissons",
        dessert: "Dessert",
        soups: "Soupes",
        mainDishes: "Plats Principaux",
        beverages: "Boissons",
        coldDrinks: "Boissons Froides",
        hotDrinks: "Boissons Chaudes",
        wines: "Vins",
        cocktails: "Cocktails",
        desserts: "Dessert",
        price: "Prix",
        addToCart: "Ajouter au Panier",
        added: "✓ Ajouté",
        cart: "Panier",
        cartEmpty: "Le panier est vide",
        total: "Total:",
        delivery: "Livraison",
        addressPlaceholder: "Entrez votre adresse",
        confirmOrder: "Confirmer la Commande",
        copyright: "© 2025 Ma Cocotte",
        
        // Descriptions des plats
        dishes: {
            "Soupe à l'oignon": "Oignon caramélisé, bouillon de bœuf, pain grillé et fromage",
            "Soupe de tomato": "Soupe de tomate française classique à base de tomates fraîches",
            "Soupe de champignons": "Soupe crémeuse et aromatique à base de champignons frais",
            "Velouté de pommes de terre": "Soupe crémeuse aux champignons avec une saveur douce et des épices parfumées",
            "Bouillabaisse": "Soupe de poisson style Marseille riche en fruits de mer",
            "Soupe de légumes": "Soupe légère et saine à base de légumes de saison",
            "Coq au Vin": "Poulet cuit au vin rouge avec champignons et légumes",
            "Boeuf Bourguignon": "Bœuf braisé au vin rouge style Bourgogne avec carottes et oignons",
            "Ratatouille": "Plat de légumes classique à base d'aubergine, courgette, poivrons et tomates",
            "Canard rôti": "Filet de canard rôti au four avec sauce spéciale",
            "Filet de saumon": "Filet de saumon grillé avec sauce au citron",
            "Poulet à la crème": "Filet de poulet cuit dans une sauce crémeuse, style français",
            "Mousse au chocolat": "Mousse au chocolat légère et crémeuse",
            "Crème Brûlée": "Dessert à la crème vanillée",
            "Crêpes Suzette": "Dessert de crêpes avec sauce à l'orange et caramel",
            "Tarte aux fruits": "Tarte aux fruits de saison",
            "Fondant au chocolat": "Gâteau coulant au chocolat"
        }
    }
};

let currentLang = 'az';

function changeLanguage(lang) {
    currentLang = lang;
    
    document.title = translations[lang].title;
    
    // Menyu
    document.querySelector('.main-menu a[href="index.html"]').textContent = translations[lang].home;
    document.querySelector('.dropdown-title').textContent = translations[lang].branches;
    document.querySelector('a[href="azadliq.html"]').textContent = translations[lang].azadliq;
    document.querySelector('a[href="elmler.html"]').textContent = translations[lang].elmler;
    document.querySelector('a[href="nerimanov.html"]').textContent = translations[lang].nerimanov;
    document.querySelector('a[href="nizami.html"]').textContent = translations[lang].nizami;
    document.querySelector('a[href="xetai.html"]').textContent = translations[lang].xetai;
    document.querySelector('a[href="menyu.html"]').textContent = translations[lang].menu;
    document.querySelector('a[href="haqqimizda.html"]').textContent = translations[lang].about;
    document.querySelector('a[href="elaqe.html"]').textContent = translations[lang].contact;
    
    // Menyu header
    const menuHeaderLinks = document.querySelectorAll('.menu-header a');
    if (menuHeaderLinks[0]) menuHeaderLinks[0].textContent = translations[lang].soup;
    if (menuHeaderLinks[1]) menuHeaderLinks[1].textContent = translations[lang].main;
    if (menuHeaderLinks[2]) menuHeaderLinks[2].textContent = translations[lang].drinks;
    if (menuHeaderLinks[3]) menuHeaderLinks[3].textContent = translations[lang].dessert;
    
    // Kateqoriya başlıqları
    const h2Elements = document.querySelectorAll('.cards h2');
    if (h2Elements[0]) h2Elements[0].textContent = translations[lang].soups;
    if (h2Elements[1]) h2Elements[1].textContent = translations[lang].mainDishes;
    if (h2Elements[2]) h2Elements[2].textContent = translations[lang].beverages;
    if (h2Elements[3]) h2Elements[3].textContent = translations[lang].desserts;
    
    // Alt kateqoriyalar
    const h3Elements = document.querySelectorAll('.cards h3');
    if (h3Elements[0]) h3Elements[0].textContent = translations[lang].coldDrinks;
    if (h3Elements[1]) h3Elements[1].textContent = translations[lang].hotDrinks;
    if (h3Elements[2]) h3Elements[2].textContent = translations[lang].wines;
    if (h3Elements[3]) h3Elements[3].textContent = translations[lang].cocktails;
    
    // Kartlardakı yemək təsvirlərini və qiymətləri dəyişdir
    const allCards = document.querySelectorAll('.card');
    allCards.forEach(card => {
        const h4 = card.querySelector('h4');
        const paragraphs = card.querySelectorAll('p');
        const button = card.querySelector('button');
        
        if (h4 && paragraphs.length > 0) {
            const dishName = h4.textContent.trim();
            
            // Əgər yemək təsviri varsa, onu dəyişdir
            if (translations[lang].dishes && translations[lang].dishes[dishName]) {
                if (paragraphs.length === 2) {
                    // Təsvir və qiymət olan kartlar
                    paragraphs[0].textContent = translations[lang].dishes[dishName];
                    
                    // Qiyməti dəyişdir
                    const priceMatch = paragraphs[1].textContent.match(/\d+\s*€/);
                    if (priceMatch) {
                        paragraphs[1].textContent = `${translations[lang].price}: ${priceMatch[0]}`;
                    }
                } else if (paragraphs.length === 1) {
                    // Yalnız qiymət olan kartlar (içkilər)
                    const priceMatch = paragraphs[0].textContent.match(/\d+\s*€/);
                    if (priceMatch) {
                        paragraphs[0].textContent = `${translations[lang].price}: ${priceMatch[0]}`;
                    }
                }
            } else if (paragraphs.length === 1) {
                // İçkilər üçün yalnız qiymət
                const priceMatch = paragraphs[0].textContent.match(/\d+\s*€/);
                if (priceMatch) {
                    paragraphs[0].textContent = `${translations[lang].price}: ${priceMatch[0]}`;
                }
            }
        }
        
        // Düymələri dəyişdir
        if (button) {
            button.textContent = translations[lang].addToCart;
        }
    });
    
    // Səbət bölməsi
    const cartHeader = document.querySelector('.cart-header h2');
    if (cartHeader) cartHeader.textContent = translations[lang].cart;
    
    const cartEmptyDiv = document.querySelector('.cart-empty');
    if (cartEmptyDiv) cartEmptyDiv.textContent = translations[lang].cartEmpty;
    
    const totalLabel = document.querySelector('.cart-total-row span:first-child');
    if (totalLabel) totalLabel.textContent = translations[lang].total;
    
    // Çatdırılma bölməsi
    const deliveryTitle = document.querySelector('.delivery-section h3');
    if (deliveryTitle) deliveryTitle.textContent = translations[lang].delivery;
    
    document.querySelector('#address').placeholder = translations[lang].addressPlaceholder;
    document.querySelector('.delivery-section button').textContent = translations[lang].confirmOrder;
    
    // Footer
    const footerParagraphs = document.querySelectorAll('.footer p');
    if (footerParagraphs[1]) footerParagraphs[1].textContent = translations[lang].copyright;
    
    // Aktiv düymə
    document.querySelectorAll('.language button').forEach(btn => {
        btn.style.background = 'rgba(255, 255, 255, 0.2)';
        btn.style.color = '#FFF8C9';
    });
    
    const activeBtn = document.querySelector(`button[data-lang="${lang}"]`);
    if (activeBtn) {
        activeBtn.style.background = '#FFF8C9';
        activeBtn.style.color = '#BEADFA';
    }
    
    localStorage.setItem('selectedLanguage', lang);
}

document.addEventListener('DOMContentLoaded', function() {
    const savedLang = localStorage.getItem('selectedLanguage') || 'az';
    changeLanguage(savedLang);
    
    document.querySelectorAll('.language button').forEach(button => {
        button.addEventListener('click', function() {
            const lang = this.getAttribute('data-lang');
            changeLanguage(lang);
        });
    });
});




let cart = [];

function addToCart(name, price) {
    const item = {
        id: Date.now(),
        name: name,
        price: price
    };
            
    cart.push(item);
    updateCart();
            
            
    const button = event.target;
    const originalText = button.textContent;
    button.textContent = translations[currentLang].added;

            
    setTimeout(() => {
        button.textContent = translations[currentLang].addToCart;
    }, 1000);
}

function removeFromCart(id) {
    cart = cart.filter(item => item.id !== id);
   updateCart();
}

function updateCart() {
    const cartItemsDiv = document.getElementById('cart-items');
    const cartTotalDiv = document.getElementById('cart-total');
    const totalPriceSpan = document.getElementById('total-price');

    if (cart.length === 0) {
        cartItemsDiv.innerHTML = `<div class="cart-empty">${translations[currentLang].cartEmpty}</div>`;
        cartTotalDiv.style.display = 'none';
        return;
    }

    let html = '';
    let total = 0;

    cart.forEach(item => {
        total += item.price;
        html += `
            <div class="cart-item">
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${item.price} €</div>
                </div>
                <button class="cart-item-remove" onclick="removeFromCart(${item.id})">X</button>
            </div>
        `;
    });

    cartItemsDiv.innerHTML = html;
    totalPriceSpan.textContent = total.toFixed(2) + ' €';
    cartTotalDiv.style.display = 'block';
}

function submitOrder() {
    const address = document.getElementById('address').value;
            
    if (cart.length === 0) {
        alert(translations[currentLang].cartEmpty + '!');
        return;
    }

    if (!address.trim()) {
        const alertMessages = {
            az: 'Zəhmət olmasa ünvanınızı daxil edin!',
            en: 'Please enter your address!',
            fr: 'Veuillez entrer votre adresse!'
        };
        alert(alertMessages[currentLang]);
        return;
    }

    const orderLabels = {
        az: { order: 'Sifarişiniz:', total: 'Ümumi:', address: 'Çatdırılma ünvanı:', success: 'Sifarişiniz qəbul edildi!' },
        en: { order: 'Your Order:', total: 'Total:', address: 'Delivery Address:', success: 'Your order has been received!' },
        fr: { order: 'Votre Commande:', total: 'Total:', address: 'Adresse de Livraison:', success: 'Votre commande a été reçue!' }
    };

    const labels = orderLabels[currentLang];
    let orderDetails = labels.order + '\n\n';
    let total = 0;

    cart.forEach(item => {
        orderDetails += `${item.name} - ${item.price} €\n`;
        total += item.price;
    });

    orderDetails += `\n${labels.total} ${total.toFixed(2)} €\n`;
    orderDetails += `${labels.address} ${address}`;

    alert(orderDetails + '\n\n' + labels.success);
            
    cart = [];
    updateCart();
    document.getElementById('address').value = '';
}